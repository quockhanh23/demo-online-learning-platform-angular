<app-header></app-header>
<app-title message="Tạo bài học mới"></app-title>
<div class="container" style="background-color: whitesmoke">
    <span [routerLink]="['/detailCourse', idCourse]" style="font-size: 35px; cursor: pointer;"
          class="material-icons hoverYellowColor">arrow_back</span>
  <form [formGroup]="lessonForm" (ngSubmit)="createLesson()">
    <div class="row" style="margin-top: 10px">
      <div class="col-3"></div>
      <div class="col-6">
        <label>Tên bài học:</label>
        <input formControlName="lessonName" class="form-control" placeholder="Tên bài học">
        <span style="font-size: 13px">Tối đa 32 kí tự</span>
        <div style="margin-top: 30px">
          <span class="material-icons">upload</span>
          <input type="file" (change)="onFileSelected($event)">
          <div *ngIf="!checkUploadDone" class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          <iframe *ngIf="checkHaveVideo" style="width: 100%; height: 600px"
                  [src]="video"
                  title="Video" frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen>
          </iframe>
        </div>
      </div>
      <div class="col-3"></div>
    </div>
    <div class="row" style="margin-top: 30px">
      <div class="col-3"></div>
      <div class="col-6">
        <button *ngIf="checkHaveVideo" style="margin-top: 10px" class="btn btn-primary" type="submit">Tạo Bài học
        </button>
        <button *ngIf="!checkHaveVideo" disabled style="margin-top: 10px" class="btn btn-primary">Tạo Bài học</button>
      </div>
      <div class="col-3"></div>
    </div>
    <div style="height: 350px"></div>
  </form>
</div>
