<app-header></app-header>
<app-title [message]="title"></app-title>
<div class="container" style="{{height}}">
  <span [routerLink]="['/adminPage']" style="font-size: 35px; cursor: pointer;"
        class="material-icons hoverYellowColor">arrow_back</span>
  <div class="row" style="margin-bottom: 20px">
    <div class="col-12">
      <button style="margin-top: 10px; margin-left: 10px" class="btn btn-info"
              [routerLink]="['/departmentCreate']">Tạo mới bộ môn
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <table class="table">
        <thead>
        <tr>
          <th scope="col">Số thứ tự</th>
          <th scope="col">Ngày tạo</th>
          <th scope="col">Tên bộ môn</th>
          <th scope="col">Trạng thái</th>
          <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let department of departments index as i">
          <td>{{i + 1}}</td>
          <td>{{department?.createdDate | date: 'dd/MM/yyyy'}}</td>
          <td>{{department?.name}}</td>
          <td style="color: #0ba10b" *ngIf="department?.status == 'ACTIVE'">{{department?.status}}</td>
          <td style="color: #ffc107" *ngIf="department?.status == 'INACTIVE'">{{department?.status}}</td>
          <td>
            <sup><sup>
              <button mat-icon-button [matMenuTriggerFor]="menu" matTooltip="Xem các hành động">
                <mat-icon>more_vert</mat-icon>
              </button>
            </sup></sup>
          </td>
          <mat-menu #menu="matMenu">
            <button mat-menu-item *ngIf="department?.status == 'ACTIVE'" (click)="action(department?.id, 'INACTIVE')">
              <mat-icon>lock_clock</mat-icon>
              <span>Khóa bộ môn</span>
            </button>
            <button mat-menu-item *ngIf="department?.status == 'INACTIVE'" (click)="action(department?.id, 'ACTIVE')">
              <mat-icon>do_not_disturb_on_total_silence</mat-icon>
              <span>Bật lại bộ môn</span>
            </button>
          </mat-menu>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
